<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio-Roll: Infinite RNG</title>
    <style>
        :root { --common: #ecf0f1; --uncommon: #2ecc71; --rare: #3498db; --legendary: #f1c40f; --mythic: #9b59b6; }
        body { background: #0f0f0f; color: #e0e0e0; font-family: 'Segoe UI', sans-serif; text-align: center; padding: 10px; }
        .container { max-width: 600px; margin: auto; background: #1a1a1a; padding: 20px; border-radius: 25px; border: 2px solid #333; }
        
        /* Art Box */
        #art-display { font-size: 8rem; line-height: 1; margin: 10px 0; min-height: 140px; transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        #name-display { font-size: 2.2rem; font-weight: 800; margin-bottom: 5px; }
        #rarity-label { font-size: 0.9rem; text-transform: uppercase; letter-spacing: 4px; color: #666; }

        .stats-bar { display: flex; justify-content: space-around; background: #222; padding: 12px; border-radius: 15px; margin-bottom: 15px; border: 1px solid #333; }
        
        button { width: 100%; padding: 20px; font-size: 1.4rem; cursor: pointer; background: #3498db; color: white; border: none; border-radius: 15px; font-weight: bold; margin: 10px 0; box-shadow: 0 6px 0 #2980b9; }
        button:active { transform: translateY(4px); box-shadow: 0 2px 0 #2980b9; }
        
        .workshop { background: #151515; padding: 15px; border-radius: 15px; margin-top: 20px; }
        .log-container { margin-top: 20px; text-align: left; background: #0a0a0a; padding: 15px; border-radius: 10px; height: 120px; overflow-y: auto; font-size: 0.8rem; }

        /* Rarity Animations */
        .Common { color: var(--common); }
        .Uncommon { color: var(--uncommon); text-shadow: 0 0 10px var(--uncommon); }
        .Rare { color: var(--rare); text-shadow: 0 0 15px var(--rare); }
        .Legendary { color: var(--legendary); text-shadow: 0 0 20px var(--legendary); animation: pulse 1.5s infinite; }
        .Mythic { color: var(--mythic); animation: glitch 0.2s infinite; font-weight: 900; }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        @keyframes glitch { 0% { transform: translate(2px, 1px) rotate(0deg); } 50% { transform: translate(-1px, -2px) rotate(-1deg); } 100% { transform: translate(1px, 2px) rotate(1deg); } }
    </style>
</head>
<body>

<div class="container">
    <div class="stats-bar">
        <div>üé∞ <span id="count">0</span></div>
        <div>üçÄ <span id="luck-stat">1.0</span>x</div>
    </div>

    <div id="rarity-label">Start Rolling</div>
    <div id="art-display">ü•ö</div>
    <div id="name-display">???</div>
    
    <button onclick="roll()">ROLL üêæ</button>
    
    <div class="workshop">
        <p id="inv-stats" style="font-size: 0.8rem; color: #888;">C: 0 | U: 0 | R: 0 | L: 0 | M: 0</p>
        <button style="background:#27ae60; box-shadow: 0 6px 0 #1e8449; padding: 10px; font-size: 1rem;" onclick="craftLuck()">Craft Charm (-10 Commons for +0.1 Luck)</button>
    </div>

    <div class="log-container">
        <div id="log-list"></div>
    </div>
</div>

<script>
    const database = {
        Common: [
            {n: "Stray Cat", a: "üêà"}, {n: "Pigeon", a: "üê¶"}, {n: "Rat", a: "üêÄ"}, {n: "Dog", a: "üêï"},
            {n: "Snail", a: "üêå"}, {n: "Ant", a: "üêú"}, {n: "Bug", a: "üêõ"}, {n: "Fly", a: "ü™∞"},
            {n: "Mouse", a: "üñ±Ô∏è"}, {n: "Chick", a: "üê§"}, {n: "Fish", a: "üêü"}
        ],
        Uncommon: [
            {n: "Fox", a: "ü¶ä"}, {n: "Penguin", a: "üêß"}, {n: "Axolotl", a: "ü¶é"}, {n: "Bat", a: "ü¶á"},
            {n: "Hedgehog", a: "ü¶î"}, {n: "Owl", a: "ü¶â"}, {n: "Snake", a: "üêç"}, {n: "Turtle", a: "üê¢"},
            {n: "Sloth", a: "ü¶•"}, {n: "Koala", a: "üê®"}, {n: "Parrot", a: "ü¶ú"}
        ],
        Rare: [
            {n: "Lion", a: "ü¶Å"}, {n: "Squid", a: "ü¶ë"}, {n: "Eagle", a: "ü¶Ö"}, {n: "Shark", a: "ü¶à"},
            {n: "Wolf", a: "üê∫"}, {n: "Whale", a: "üêã"}, {n: "Unicorn", a: "ü¶Ñ"}, {n: "Tiger", a: "üêØ"},
            {n: "Gorilla", a: "ü¶ç"}, {n: "Crocodile", a: "üêä"}
        ],
        Legendary: [
            {n: "Solar Serpent", a: "üêâ"}, {n: "Void Wolf", a: "üê∫‚ú®"}, {n: "Magma Rhino", a: "ü¶èüî•"}, 
            {n: "Ice Phoenix", a: "ü¶Ö‚ùÑÔ∏è"}, {n: "Jade Dragon", a: "üê≤"}, {n: "Golden Stag", a: "ü¶åüëë"}
        ],
        Mythic: [
            {n: "THE GLITCH", a: "üëæ"}, {n: "GALAXY BUTTERFLY", a: "ü¶ãüåå"}, 
            {n: "NEBULA PHOENIX", a: "üî•üåå"}, {n: "COSMIC WHALE", a: "üêãüå†"}
        ]
    };

    let state = { rolls: 0, luck: 1.0, inv: { Common: 0, Uncommon: 0, Rare: 0, Legendary: 0, Mythic: 0 }, history: [] };

    function load() {
        const s = localStorage.getItem('bioRoll_v3');
        if (s) { state = JSON.parse(s); updateUI(); }
    }

    function save() { localStorage.setItem('bioRoll_v3', JSON.stringify(state)); }

    function updateUI() {
        document.getElementById('count').innerText = state.rolls;
        document.getElementById('luck-stat').innerText = state.luck.toFixed(1);
        document.getElementById('inv-stats').innerText = `C: ${state.inv.Common} | U: ${state.inv.Uncommon} | R: ${state.inv.Rare} | L: ${state.inv.Legendary} | M: ${state.inv.Mythic}`;
        const log = document.getElementById('log-list');
        log.innerHTML = state.history.map(e => `<div>[${e.t}] ${e.n}</div>`).join('');
    }

    function roll() {
        state.rolls++;
        let rng = Math.random() * 1000000;
        let t = "Common";
        if (rng < (1 * state.luck)) t = "Mythic";
        else if (rng < (150 * state.luck)) t = "Legendary";
        else if (rng < (3000 * state.luck)) t = "Rare";
        else if (rng < (80000 * state.luck)) t = "Uncommon";

        state.inv[t]++;
        const pool = database[t];
        const pick = pool[Math.floor(Math.random() * pool.length)];

        if (t !== "Common") {
            state.history.unshift({ n: pick.n, t: t });
            if (state.history.length > 8) state.history.pop();
        }

        const art = document.getElementById('art-display');
        const name = document.getElementById('name-display');
        art.innerText = pick.a;
        name.innerText = pick.n;
        art.className = name.className = t;
        document.getElementById('rarity-label').innerText = t;

        updateUI(); save();
    }

    function craftLuck() {
        if (state.inv.Common >= 10) {
            state.inv.Common -= 10;
            state.luck += 0.1;
            updateUI(); save();
        }
    }

    load();
</script>
</body>
</html>
