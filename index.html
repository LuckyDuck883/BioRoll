<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio-Roll: Empire Shop</title>
    <style>
        :root { 
            --common: #95a5a6; --uncommon: #2ecc71; --rare: #3498db; 
            --legendary: #f1c40f; --mythic: #9b59b6; --god: #ff3e3e; 
            --shiny: #ff69b4; --doge: #ffcc00; --panel: rgba(15, 15, 15, 0.95);
        }
        
        body { 
            background: #050505; color: #fff; font-family: 'Segoe UI', sans-serif; 
            margin: 0; display: flex; height: 100vh; overflow: hidden;
        }

        #flash { position: fixed; inset: 0; background: #fff; opacity: 0; pointer-events: none; z-index: 1000; transition: opacity 0.1s; }

        /* Sidebar Panels */
        .sidebar { width: 280px; background: var(--panel); border-right: 1px solid #222; padding: 20px; display: flex; flex-direction: column; overflow-y: auto; }
        .main-game { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }
        .shop-panel { width: 320px; background: var(--panel); border-left: 1px solid #222; padding: 20px; overflow-y: auto; }

        /* Display Visuals */
        #display-stage { position: relative; width: 350px; height: 350px; display: flex; align-items: center; justify-content: center; }
        .skin-layer { position: absolute; font-size: 10rem; z-index: 5; transition: 0.2s; filter: drop-shadow(0 0 10px rgba(0,0,0,0.5)); }
        .aura-layer { position: absolute; font-size: 14rem; opacity: 0.2; filter: blur(35px); animation: pulse 3s infinite alternate; }
        @keyframes pulse { from { transform: scale(0.95); opacity: 0.1; } to { transform: scale(1.1); opacity: 0.3; } }

        /* UI Elements */
        .card { background: rgba(255,255,255,0.03); border-radius: 12px; padding: 15px; margin-bottom: 12px; border: 1px solid #333; }
        .primary-btn { width: 100%; padding: 15px; font-size: 1.2rem; font-weight: bold; border: none; border-radius: 10px; background: #fff; color: #000; cursor: pointer; transition: 0.2s; }
        .primary-btn:active { transform: scale(0.95); }
        .shop-btn { width: 100%; padding: 8px; margin-top: 10px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; color: white; background: #27ae60; }
        .shop-btn:disabled { background: #333; opacity: 0.5; cursor: not-allowed; }

        /* Typography */
        #animal-name { font-size: 2.5rem; font-weight: 900; margin: 10px 0; text-align: center; }
        #rarity-tag { font-size: 0.8rem; letter-spacing: 4px; opacity: 0.5; font-weight: 800; }
        .God-Effect { animation: shake 0.1s infinite; text-shadow: 0 0 20px var(--god); }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(2px); } }
    </style>
</head>
<body>

<div id="flash"></div>

<div class="sidebar">
    <h3 style="color: #666; font-size: 0.7rem; letter-spacing: 2px;">INVENTORY</h3>
    <div id="inv-display"></div>
    <hr style="border: 0; border-top: 1px solid #333; margin: 20px 0;">
    <button class="shop-btn" style="background: #333;" onclick="alert('Gallery coming in next sync!')">ğŸ“– GALLERY</button>
</div>

<div class="main-game">
    <div id="display-stage">
        <div id="aura-layer" class="aura-layer"></div>
        <div id="skin-layer" class="skin-layer">ğŸ¥š</div>
    </div>
    <div id="rarity-tag">READY</div>
    <div id="animal-name">BIO-ROLLER</div>
    <div style="width: 280px;">
        <button class="primary-btn" onclick="roll()">ROLL SEQUENCE</button>
        <div style="display:flex; justify-content:center; gap:15px; margin-top:10px;">
            <label style="font-size: 0.7rem; color: #444;"><input type="checkbox" id="turbo"> TURBO</label>
            <span id="rolls-counter" style="font-size: 0.7rem; color: #444;">ROLLS: 0</span>
        </div>
    </div>
</div>

<div class="shop-panel">
    <h3 style="color: var(--legendary); font-size: 0.8rem; letter-spacing: 2px;">EMPIRE SHOP</h3>
    
    <div class="card">
        <b style="color: var(--uncommon)">ğŸ§ª Luck Serum</b>
        <div style="font-size: 0.7rem; opacity: 0.6;">+1.0 Luck Multiplier</div>
        <button class="shop-btn" onclick="buy('luck', 100, 'Common')">Cost: 100 Common</button>
    </div>

    <div class="card">
        <b style="color: var(--rare)">ğŸ› ï¸ Bio-Forge</b>
        <div style="font-size: 0.7rem; opacity: 0.6;">Convert collection to 1 Rare+ Animal</div>
        <button id="forge-btn" class="shop-btn" style="background: var(--rare)" onclick="craft()">Forge (50 Common)</button>
    </div>

    <div class="card">
        <b style="color: var(--shiny)">âœ¨ Shiny Polish</b>
        <div style="font-size: 0.7rem; opacity: 0.6;">Double your Shiny chances</div>
        <button class="shop-btn" style="background: var(--shiny)" onclick="buy('shiny', 20, 'Uncommon')">Cost: 20 Uncommon</button>
    </div>
</div>

<script>
    const database = {
        Common: [
            {n:"Cat", e:"ğŸˆ", a:"ğŸ¾"}, {n:"Rat", e:"ğŸ€", a:"ğŸ§€"}, {n:"Snail", e:"ğŸŒ", a:"ğŸŒ±"}, 
            {n:"Ant", e:"ğŸœ", a:"ğŸ‚"}, {n:"Bee", e:"ğŸ", a:"ğŸŒ»"}, {n:"Fish", e:"ğŸŸ", a:"ğŸ«§"}
        ],
        Uncommon: [
            {n:"Fox", e:"ğŸ¦Š", a:"âœ¨"}, {n:"Owl", e:"ğŸ¦‰", a:"ğŸŒ™"}, {n:"Deer", e:"ğŸ¦Œ", a:"ğŸŒ²"},
            {n:"Frog", e:"ğŸ¸", a:"ğŸ’§"}, {n:"Wolf", e:"ğŸº", a:"â„ï¸"}
        ],
        Rare: [
            {n:"DOGE", e:"ğŸ•", a:"ğŸ¦´"}, {n:"Shark", e:"ğŸ¦ˆ", a:"ğŸŒŠ"}, {n:"Lion", e:"ğŸ¦", a:"ğŸŒ…"},
            {n:"T-Rex", e:"ğŸ¦–", a:"ğŸŒ‹"}, {n:"Cobra", e:"ğŸ", a:"ğŸœï¸"}
        ],
        Legendary: [
            {n:"Phoenix", e:"ğŸ¦â€ğŸ”¥", a:"ğŸ”¥"}, {n:"Dragon", e:"ğŸ²", a:"âš¡"}, {n:"Whale", e:"ğŸ‹", a:"ğŸŒŒ"},
            {n:"Unicorn", e:"ğŸ¦„", a:"âœ¨"}
        ],
        Mythic: [
            {n:"GLITCH", e:"ğŸ‘¾", a:"â¬›"}, {n:"REAPER", e:"ğŸ’€", a:"ğŸŒ€"}
        ],
        God: [
            {n:"SUN GOD", e:"â˜€ï¸", a:"ğŸ’¥"}, {n:"ETERNITY", e:"ğŸ’", a:"âœ¨"}
        ]
    };

    let s = { rolls: 0, luck: 1.0, sMod: 100, inv: {Common:0, Uncommon:0, Rare:0, Legendary:0, Mythic:0, God:0} };

    function roll(forced = null) {
        s.rolls++;
        let t = "Common";
        if (forced) {
            t = forced;
        } else {
            let rng = Math.random() * 1000000;
            if (rng < (2 * s.luck)) t = "God";
            else if (rng < (120 * s.luck)) t = "Mythic";
            else if (rng < (3000 * s.luck)) t = "Legendary";
            else if (rng < (50000 * s.luck)) t = "Rare";
            else if (rng < (250000 * s.luck)) t = "Uncommon";
        }

        s.inv[t]++;
        const pick = database[t][Math.floor(Math.random() * database[t].length)];
        let isShiny = (Math.random() * s.sMod) < 2;

        const art = document.getElementById('skin-layer');
        const aura = document.getElementById('aura-layer');
        const name = document.getElementById('animal-name');
        const tag = document.getElementById('rarity-tag');

        art.innerText = pick.e;
        aura.innerText = pick.a;
        art.style.filter = isShiny ? `drop-shadow(0 0 25px var(--shiny)) brightness(1.2)` : `none`;
        
        name.innerText = (isShiny ? "âœ¨ " : "") + pick.n;
        name.style.color = `var(--${t.toLowerCase()})`;
        name.className = (t === "God") ? "God-Effect" : "";
        
        tag.innerText = t.toUpperCase();
        tag.style.color = `var(--${t.toLowerCase()})`;

        if(t === "God") {
            const f = document.getElementById('flash');
            f.style.opacity = "1";
            setTimeout(() => f.style.opacity = "0", 150);
        }

        updateUI();
        save();
    }

    function buy(type, cost, curr) {
        if(s.inv[curr] >= cost) {
            s.inv[curr] -= cost;
            if(type === 'luck') s.luck += 1.0;
            if(type === 'shiny') s.sMod /= 2;
            updateUI(); save();
        }
    }

    function craft() {
        if(s.inv.Common >= 50) {
            s.inv.Common -= 50;
            let rng = Math.random() * 100;
            let t = "Rare";
            if(rng < 10) t = "Legendary";
            if(rng < 1) t = "Mythic";
            roll(t);
        }
    }

    function updateUI() {
        document.getElementById('rolls-counter').innerText = `ROLLS: ${s.rolls}`;
        let html = "";
        for(let k in s.inv) {
            html += `<div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                <span style="color:var(--${k.toLowerCase()})">${k}</span>
                <span>${s.inv[k]}</span>
            </div>`;
        }
        document.getElementById('inv-display').innerHTML = html;
        document.getElementById('forge-btn').disabled = s.inv.Common < 50;
    }

    let tInt;
    document.getElementById('turbo').onchange = (e) => {
        if(e.target.checked) tInt = setInterval(roll, 100);
        else clearInterval(tInt);
    };

    function save() { localStorage.setItem('bio_shop_v1', JSON.stringify(s)); }
    function load() {
        const saved = localStorage.getItem('bio_shop_v1');
        if(saved) { s = JSON.parse(saved); updateUI(); }
    }
    load();
</script>
</body>
</html>
