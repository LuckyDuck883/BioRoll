<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio-Roll: Shiny Doge Edition</title>
    <style>
        :root { 
            --common: #bdc3c7; --uncommon: #2ecc71; --rare: #3498db; 
            --legendary: #f1c40f; --mythic: #9b59b6; --god: #e74c3c; 
            --shiny: #ff69b4; --doge: #ffcc00;
        }
        body { background: #0a0a0a; color: #fff; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        /* Layout Panels */
        .sidebar { width: 260px; background: #111; border-right: 2px solid #222; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .main-game { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; background: radial-gradient(circle, #1a1a1a 0%, #0a0a0a 100%); }
        .shop-panel { width: 300px; background: #111; border-left: 2px solid #222; padding: 20px; overflow-y: auto; }

        /* Stats & Labels */
        .stat-box { background: #1a1a1a; padding: 12px; border-radius: 10px; border: 1px solid #333; }
        .stat-box small { color: #666; text-transform: uppercase; font-size: 0.7rem; letter-spacing: 1px; }
        .stat-val { font-size: 1.2rem; font-weight: bold; display: block; }

        /* Central Display */
        #display-container { text-align: center; margin-bottom: 20px; }
        #emoji-art { font-size: 9rem; display: block; transition: 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        #animal-name { font-size: 2.5rem; font-weight: 900; margin: 10px 0; }
        #rarity-tag { font-size: 0.9rem; letter-spacing: 4px; font-weight: bold; opacity: 0.7; }

        /* Buttons & Shop */
        .roll-btn { width: 280px; padding: 20px; font-size: 1.5rem; font-weight: 800; border: none; border-radius: 50px; cursor: pointer; background: #fff; color: #000; box-shadow: 0 5px 0 #999; margin-bottom: 15px; }
        .roll-btn:active { transform: translateY(3px); box-shadow: 0 2px 0 #999; }
        
        .shop-item { background: #1a1a1a; padding: 12px; border-radius: 10px; margin-bottom: 10px; border: 1px solid #333; }
        .shop-item b { display: block; color: var(--legendary); }
        .buy-btn { width: 100%; margin-top: 8px; padding: 6px; border: none; border-radius: 5px; background: #27ae60; color: white; cursor: pointer; font-weight: bold; }
        .buy-btn:disabled { background: #444; cursor: not-allowed; }

        /* Animations & Effects */
        .is-shiny { filter: drop-shadow(0 0 20px var(--shiny)); animation: shine-sparkle 0.8s infinite alternate; }
        @keyframes shine-sparkle { from { filter: hue-rotate(0deg) drop-shadow(0 0 10px var(--shiny)); } to { filter: hue-rotate(360deg) drop-shadow(0 0 30px #fff); } }
        
        .God { animation: shake 0.2s infinite; color: var(--god); }
        @keyframes shake { 0% { transform: translate(1px, 1px); } 50% { transform: translate(-1px, -1px); } 100% { transform: translate(0,0); } }

        /* Rarity Colors */
        .Common { color: var(--common); } .Uncommon { color: var(--uncommon); } .Rare { color: var(--rare); } 
        .Legendary { color: var(--legendary); } .Mythic { color: var(--mythic); } .Doge { color: var(--doge); }
    </style>
</head>
<body>

<div class="sidebar">
    <h2 style="margin:0; color:var(--rare);">ğŸ“ˆ STATS</h2>
    <div class="stat-box"><small>Total Rolls</small><span class="stat-val" id="total-rolls">0</span></div>
    <div class="stat-box"><small>Luck Level</small><span class="stat-val" id="luck-level" style="color:var(--uncommon);">1.0x</span></div>
    <div class="stat-box"><small>Shinies</small><span class="stat-val" id="shiny-val" style="color:var(--shiny);">0</span></div>
    
    <h3 style="margin:20px 0 5px 0; font-size: 0.8rem; color: #555;">INVENTORY</h3>
    <div id="inv-list" style="font-size: 0.85rem; line-height: 1.6;"></div>
</div>

<div class="main-game">
    <div id="display-container">
        <div id="rarity-tag">BEGIN ADVENTURE</div>
        <span id="emoji-art">ğŸ¥š</span>
        <div id="animal-name">ROLL ME</div>
    </div>
    <button class="roll-btn" onclick="roll()">ROLL ğŸ¾</button>
    <label style="color:#555; font-size: 0.8rem;"><input type="checkbox" id="turbo"> TURBO MODE</label>
</div>

<div class="shop-panel">
    <h2 style="margin:0; color:var(--legendary);">ğŸ›’ SHOP</h2>
    <p style="font-size: 0.7rem; color: #555; margin-bottom: 20px;">Use your animals as currency</p>
    
    <div class="shop-item">
        <b>ğŸ€ Rabbit's Foot</b>
        <span style="font-size:0.7rem;">+0.5 Luck Multiplier</span>
        <button class="buy-btn" onclick="buy('luck', 40, 'Common')">Cost: 40 Common</button>
    </div>

    <div class="shop-item">
        <b>ğŸ¦´ Golden Bone</b>
        <span style="font-size:0.7rem;">Huge +2.0 Luck Boost</span>
        <button class="buy-btn" onclick="buy('luck', 5, 'Rare')">Cost: 5 Rare</button>
    </div>

    <div class="shop-item">
        <b>âœ¨ Shiny Magnet</b>
        <span style="font-size:0.7rem;">Double Shiny Chance</span>
        <button class="buy-btn" onclick="buy('shinyRate', 15, 'Uncommon')">Cost: 15 Uncommon</button>
    </div>
</div>

<script>
    const database = {
        Common: [
            {n: "Street Cat", e: "ğŸˆ"}, {n: "City Rat", e: "ğŸ€"}, {n: "Pigeon", e: "ğŸ¦"}, 
            {n: "Garden Snail", e: "ğŸŒ"}, {n: "Worker Ant", e: "ğŸœ"}, {n: "Green Frog", e: "ğŸ¸"}
        ],
        Uncommon: [
            {n: "Red Fox", e: "ğŸ¦Š"}, {n: "Wise Owl", e: "ğŸ¦‰"}, {n: "Forest Deer", e: "ğŸ¦Œ"}, 
            {n: "Fruit Bat", e: "ğŸ¦‡"}, {n: "Raccoon", e: "ğŸ¦"}
        ],
        Rare: [
            {n: "DOGE", e: "ğŸ•"}, {n: "Great Shark", e: "ğŸ¦ˆ"}, {n: "Mountain Lion", e: "ğŸ¦"}, 
            {n: "Polar Bear", e: "ğŸ»â€â„ï¸"}, {n: "King Cobra", e: "ğŸ"}
        ],
        Legendary: [
            {n: "Fire Dragon", e: "ğŸ²"}, {n: "Ice Phoenix", e: "ğŸ¦â€â„ï¸"}, {n: "Holy Unicorn", e: "ğŸ¦„"}
        ],
        Mythic: [
            {n: "VOID ENTITY", e: "ğŸŒ€"}, {n: "SYSTEM GLITCH", e: "ğŸ‘¾"}, {n: "GALAXY WHALE", e: "ğŸ‹ğŸŒŒ"}
        ],
        God: [
            {n: "THE SUN", e: "â˜€ï¸"}, {n: "ETERNITY", e: "ğŸ’"}, {n: "ZEUS", e: "âš¡"}
        ]
    };

    let s = {
        rolls: 0, luck: 1.0, shinies: 0, sMod: 100,
        inv: { Common: 0, Uncommon: 0, Rare: 0, Legendary: 0, Mythic: 0, God: 0 }
    };

    let turboInterval = null;

    function roll() {
        s.rolls++;
        let rng = Math.random() * 1000000;
        let t = "Common";
        
        if (rng < (1 * s.luck)) t = "God";
        else if (rng < (100 * s.luck)) t = "Mythic";
        else if (rng < (2000 * s.luck)) t = "Legendary";
        else if (rng < (35000 * s.luck)) t = "Rare";
        else if (rng < (200000 * s.luck)) t = "Uncommon";

        s.inv[t]++;
        const pool = database[t];
        const pick = pool[Math.floor(Math.random() * pool.length)];
        
        // Shiny Roll (1 in sMod)
        let isShiny = (Math.random() * s.sMod) < 1;
        if(isShiny) s.shinies++;

        // UI Update
        const nameEl = document.getElementById('animal-name');
        const artEl = document.getElementById('emoji-art');
        const rTag = document.getElementById('rarity-tag');

        artEl.innerText = pick.e;
        artEl.className = isShiny ? "is-shiny" : "";
        
        nameEl.innerText = (isShiny ? "âœ¨ SHINY " : "") + pick.n;
        nameEl.className = pick.n === "DOGE" ? "Doge" : t;
        
        rTag.innerText = t.toUpperCase();
        rTag.style.color = `var(--${t.toLowerCase()})`;

        updateUI();
        save();
    }

    function buy(item, cost, curr) {
        if (s.inv[curr] >= cost) {
            s.inv[curr] -= cost;
            if (item === 'luck') s.luck += (cost >= 40 ? 0.5 : 2.0);
            if (item === 'shinyRate') s.sMod /= 2;
            updateUI(); save();
            alert("Upgrade Purchased!");
        } else {
            alert("Not enough " + curr + " animals!");
        }
    }

    document.getElementById('turbo').addEventListener('change', (e) => {
        if(e.target.checked) turboInterval = setInterval(roll, 100);
        else clearInterval(turboInterval);
    });

    function updateUI() {
        document.getElementById('total-rolls').innerText = s.rolls;
        document.getElementById('luck-level').innerText = s.luck.toFixed(1) + "x";
        document.getElementById('shiny-val').innerText = s.shinies;
        
        let invHTML = "";
        for (let key in s.inv) {
            invHTML += `<div style="color:var(--${key.toLowerCase()})">${key}: ${s.inv[key]}</div>`;
        }
        document.getElementById('inv-list').innerHTML = invHTML;
    }

    function save() { localStorage.setItem('bioRoll_Final', JSON.stringify(s)); }
    function load() {
        const saved = localStorage.getItem('bioRoll_Final');
        if(saved) { s = JSON.parse(saved); updateUI(); }
    }

    load();
</script>
</body>
</html>
