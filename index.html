<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DABESTGAME - GALLERY EDITION</title>
    <style>
        :root { 
            --bg: #020202; --text: #0f0; --gold: #ffd700;
            --rarity1: #95a5a6; --rarity5: #3498db; --rarity10: #f1c40f;
            --ducky: #fff700; --zenith: #00ff88; --error: #ff0055;
        }
        
        body { background: var(--bg); color: #fff; font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; display: flex; height: 100vh; overflow: hidden; }
        
        /* Panels */
        .panel { width: 300px; background: #000; border: 1px solid #1a1a1a; padding: 15px; display: flex; flex-direction: column; z-index: 100; }
        .main { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }

        /* The Stage & Skin */
        .stage-box { width: 320px; height: 320px; border: 2px solid #222; display: flex; align-items: center; justify-content: center; font-size: 9rem; position: relative; border-radius: 20px; transition: 0.3s; }
        .aura { position: absolute; inset: -30px; border-radius: 50%; opacity: 0.2; filter: blur(50px); z-index: -1; }

        /* Gallery System */
        .gallery { flex-grow: 1; overflow-y: auto; display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; padding-top: 10px; border-top: 1px solid #222; }
        .gallery-item { width: 100%; aspect-ratio: 1; background: #111; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; border-radius: 5px; filter: grayscale(1); opacity: 0.3; }
        .unlocked { filter: grayscale(0); opacity: 1; border: 1px solid #333; }

        /* Buttons */
        .btn { width: 100%; padding: 12px; border: none; cursor: pointer; font-weight: 900; background: #fff; color: #000; margin-top: 10px; border-radius: 5px; }
        .btn:hover { background: #eee; }
        
        .stat-line { font-size: 0.8rem; display: flex; justify-content: space-between; margin-bottom: 5px; }
        #log { font-size: 0.6rem; color: #555; height: 100px; overflow: hidden; }
    </style>
</head>
<body>

<div class="panel">
    <h2 style="color:var(--gold); margin:0;">WHALE_RANK</h2>
    <div style="margin: 15px 0;">
        <div class="stat-line"><span>LEVEL:</span> <span id="lvl">1</span></div>
        <div class="stat-line"><span>LUCK:</span> <span id="luck">1.0</span>x</div>
        <div class="stat-line"><span>COLLECTED:</span> <span id="col-count">0</span>/24</div>
    </div>
    
    <button class="btn" onclick="roll()">ROLL ENTITY</button>
    <label style="font-size: 0.7rem; display: block; text-align: center; margin-top: 5px;">
        <input type="checkbox" id="turbo"> HYPER_SPLICER
    </label>

    <div id="log" style="margin-top: 20px;">> init systems...</div>
</div>

<div class="main">
    <div class="stage-box" id="s">
        <div id="aura" class="aura"></div>
        <span id="skin">ðŸ“¦</span>
    </div>
    <div id="rtag" style="font-weight:900; color:#444; margin-top: 15px; letter-spacing: 5px;">AWAITING_GENOME</div>
    <div id="display-name" style="font-size: 2rem; font-weight: 900; margin-top: 5px;">???</div>
</div>

<div class="panel">
    <h3 style="margin:0;">ANIMAL_GALLERY</h3>
    <div class="gallery" id="gallery">
        </div>
    <div style="font-size: 0.6rem; color: #444; margin-top: 10px;">TIP: Lucky Ducks boost all future rarity odds.</div>
</div>

<script>
    const database = [
        { r: "Common", s: "ðŸ€", c: "#95a5a6", n: "Street Rat" },
        { r: "Common", s: "ðŸœ", c: "#95a5a6", n: "Worker Ant" },
        { r: "Uncommon", s: "ðŸ•", c: "#2ecc71", n: "Stray Mutt" },
        { r: "Uncommon", s: "ðŸˆ", c: "#2ecc71", n: "Alley Cat" },
        { r: "Rare", s: "ðŸº", c: "#3498db", n: "Tundra Wolf" },
        { r: "Rare", s: "ðŸ", c: "#3498db", n: "Neon Cobra" },
        { r: "Epic", s: "ðŸ†", c: "#9b59b6", n: "Void Panther" },
        { r: "Epic", s: "ðŸ¦…", c: "#9b59b6", n: "Storm Eagle" },
        { r: "Legendary", s: "ðŸ²", c: "#f1c40f", n: "Jade Dragon" },
        { r: "Legendary", s: "ðŸ¦", c: "#f1c40f", n: "Solar Lion" },
        { r: "Mythic", s: "ðŸ¦„", c: "#e67e22", n: "Cosmic Pony" },
        { r: "Mythic", s: "ðŸ™", c: "#e67e22", n: "Kraken Spawn" },
        { r: "Divine", s: "ðŸ‘¼", c: "#ecf0f1", n: "Seraphim Bird" },
        { r: "Demonic", s: "ðŸ‘¹", c: "#c0392b", n: "Hell Hound" },
        { r: "The Lucky Duck", s: "ðŸ¦†", c: "#fff700", n: "QUACKMASTER" },
        { r: "Zenith", s: "â™¾ï¸", c: "#00ff88", n: "Zenith Core" },
        { r: "Abyssal", s: "ðŸŒ‘", c: "#2c3e50", n: "Dark Matter" },
        { r: "Nuclear", s: "â˜¢ï¸", c: "#dfff00", n: "Atomic Beast" },
        { r: "Glitch", s: "ðŸ‘¾", c: "#ff00ff", n: "System.Error" },
        { r: "Omni-God", s: "ðŸ‘ï¸", c: "#ffffff", n: "The Watcher" }
    ];

    let state = { lvl: 1, xp: 0, luck: 1, unlocked: new Set() };

    // Build Gallery
    const gal = document.getElementById('gallery');
    database.forEach((item, idx) => {
        let div = document.createElement('div');
        div.className = 'gallery-item';
        div.id = `gal-${idx}`;
        div.innerText = item.s;
        gal.appendChild(div);
    });

    function log(msg) {
        const l = document.getElementById('log');
        l.innerHTML = `> ${msg}<br>` + l.innerHTML;
    }

    function roll() {
        state.xp += 20;
        if(state.xp >= 100) { state.lvl++; state.xp = 0; }
        
        let rng = (Math.random() * 1000) / state.luck;
        let idx = 0;

        if (rng < 0.1) idx = 19; // Omni-God
        else if (rng < 0.5) idx = 15; // Zenith
        else if (rng < 2) idx = 14; // Lucky Duck
        else if (rng < 10) idx = 12; // Divine
        else if (rng < 50) idx = 8; // Legendary
        else if (rng < 150) idx = 4; // Rare
        else idx = Math.floor(Math.random() * 4); // Commons

        const entity = database[idx];
        
        // Update View
        document.getElementById('skin').innerText = entity.s;
        document.getElementById('rtag').innerText = entity.r.toUpperCase();
        document.getElementById('rtag').style.color = entity.c;
        document.getElementById('display-name').innerText = entity.n;
        document.getElementById('aura').style.background = `radial-gradient(circle, ${entity.c} 0%, transparent 70%)`;
        
        // Update Luck if Duck
        if(entity.r === "The Lucky Duck") {
            state.luck += 0.5;
            log("LUCKY DUCK: Luck increased by 0.5!");
        }

        // Unlock in Gallery
        if(!state.unlocked.has(idx)) {
            state.unlocked.add(idx);
            document.getElementById(`gal-${idx}`).classList.add('unlocked');
            log(`NEW DISCOVERY: ${entity.n}`);
        }

        updateUI();
    }

    function updateUI() {
        document.getElementById('lvl').innerText = state.lvl;
        document.getElementById('luck').innerText = state.luck.toFixed(1);
        document.getElementById('col-count').innerText = state.unlocked.size;
    }

    setInterval(() => {
        if(document.getElementById('turbo').checked) roll();
    }, 100);
</script>
</body>
</html>
